<html>
	<head>
		<script type="text/javascript" src="Mockups-JS.js"></script>
		<link rel="stylesheet" href="Mockups-Styling.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style>
			#login-error-msg-holder {
			  display: grid;
			  justify-items: center;
			  align-items: center;
			}

			#login-error-msg {
			  width: 23%;
			  text-align: center;
			  margin: 0;
			  padding: 5px;
			  font-size: 12px;
			  font-weight: bold;
			  color: #8a0000;
			  border: 1px solid #8a0000;
			  background-color: #e58f8f;
			  opacity: 0;
			}

			#error-msg-second-line {
			  display: block;
			}

			#login-form {
			  align-self: flex-start;
			  display: grid;
			  justify-items: center;
			  align-items: center;
			}

			.login-form-field::placeholder {
			  color: #3a3a3a;
			}

			.login-form-field {
			  border: none;
			  border-bottom: 1px solid #3a3a3a;
			  margin-bottom: 10px;
			  border-radius: 3px;
			  outline: none;
			  padding: 0px 0px 5px 5px;
			}

			#login-form-submit {
			  width: 170px;
			  padding: 7px;
			  border: none;
			  border-radius: 5px;
			  color: white;
			  font-weight: bold;
			  background-color: #3a3a3a;
			  cursor: pointer;
			  outline: none;
			}
			main{
				display:block!important;
			}
		</style>
		<script>
			function Logout(){
				document.cookie = "username=;"
				location.reload();
			}

			function setCookie(cname, cvalue) {
			  document.cookie = cname + "=" + cvalue + ";";
			}
			function getCookie(cname) {
			  let name = cname + "=";
			  let ca = document.cookie.split(';');
			  for(let i = 0; i < ca.length; i++) {
			    let c = ca[i];
			    while (c.charAt(0) == ' ') {
			      c = c.substring(1);
			    }
			    console.log(c);
			    if (c.indexOf(name) == 0) {
			      return c.substring(name.length, c.length);
			    }
			  }
			  return "";
			}
			function checkCookie() {
			  let user = getCookie("username");
			  if (user != "") {
			  	document.getElementById("LoginInfo").innerHTML = "Welcome Consultant! <span onclick='Logout();'>Logout?</span>";
			  } else {
				document.getElementById("LoginInfo").innerHTML ='<a href="/Login.html">Consultant Login</a>';
			  }
			}
		</script>
	</head>
	<body onload="checkCookie()"></body>
		<header>
			<h1>Customization Website for For Keeps Earring Shapes</h1>
			<span id="LoginInfo"></span> 
		</header>
		<section id="header">
			<span><a href="index.html">&larr; Back to Home</a></span>
			<h1>Consultant Login</h1>
			<h3 style="text-align: center;">Log in to see any new materials released to consultants.</h3>
		</section>
		<main>
			<div id="login-error-msg-holder">
		     	<p id="login-error-msg">Invalid username <span id="error-msg-second-line">and/or password</span></p>
		    </div>
		    <br>
		    <form id="login-form" method="post">
		      <input type="text" name="username" id="username-field" class="login-form-field" placeholder="Username">
		      <input type="password" name="password" id="password-field" class="login-form-field" placeholder="Password">
		      <button type="submit" id="login-form-submit">Login</button>
		    </form>
		</main>
	</body>
	<script>
			const loginForm = document.getElementById("login-form");
			const loginButton = document.getElementById("login-form-submit");
			const loginErrorMsg = document.getElementById("login-error-msg");

			loginButton.addEventListener("click", (e) => {
			    e.preventDefault();
			    const username = loginForm.username.value;
			    const password = loginForm.password.value;

			    if (username === "user" && password === "pass") {
			       setCookie("username", loginForm.username.value);
			    	window.location.href = "/index.html";
			    } else {
			        loginErrorMsg.style.opacity = 1;
			    }
			});
	</script>

	<footer>
		<span>&copy; Melissa Moake</span>
		<img src="WhiteLogo.png" alt="consultant logo" height="40px"/>
	</footer>